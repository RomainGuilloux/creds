[tox]
envlist = py{26,27,33,34}-build

[tox:travis]
3.5 = py35
3.4 = py34
3.3 = py33
2.7 = py27
2.6 = py26
pypy = pypy
pypy3 = pypy3
nightly = nightly

[testenv]
adopts=--ignore=setup.py --maxfail=1 --capture=sys --cov-report term-missing --cov creds
python_files=*.py
python_functions=test_
norecursedirs=.tox .git
commands =
    build: py.test --cov-report term-missing --cov creds
    build: flake8 lib/creds
deps = -rtest-requirements.txt

[flake8]
max-line-length = 120
exclude = tests/*
max-complexity = 26